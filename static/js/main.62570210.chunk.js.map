{"version":3,"sources":["directions/index.js","game-components/square.js","game-components/board.js","game-components/captured-pieces-block.js","pieces/piece.js","pieces/bishop.js","pieces/king.js","pieces/knight.js","pieces/pawn.js","pieces/queen.js","pieces/rook.js","init/game-initialiser.js","game-components/game.js","index.js"],"names":["diagonalDirectionTLBR","require","diagonalDirectionTRBL","rowDirection","columnDirection","module","exports","isSameRow","src","dest","isSameColumn","isSameDiagonal","isPathClean","srcToDestPath","squares","reduce","acc","curr","Square","props","className","shade","onClick","style","keyVal","Board","m","squareShade","this","board","squareRows","n","isEven","push","renderSquare","React","Component","num","CapturedPiecesBlock","square","piece","whiteCapturedPieces","map","ws","index","blackCapturedPieces","bs","Piece","player","iconUrl","backgroundImage","Bishop","getSrcToDestPath","pathStart","pathEnd","incrementBy","path","Math","abs","King","Knight","Pawn","initialPositions","1","2","isDestEnemyOccupied","indexOf","Queen","Rook","initialiseChessBoard","Array","fill","Game","state","sourceSelection","status","turn","backgroundColor","setState","Boolean","isMovePossible","isCheckForPlayer","oldState","idx","getPlayer","opponent","playersKingPosition","getKingPosition","handleClick","id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.62570210.chunk.js","sourcesContent":["const diagonalDirectionTLBR = require('./diagonalTopLeftBottomRight.json');\r\nconst diagonalDirectionTRBL = require('./diagonalTopRightBottomLeft.json');\r\nconst rowDirection = require('./row.json');\r\nconst columnDirection = require('./column.json');\r\n\r\nconst isSameRow = (src,dest) => {\r\n    return !!(rowDirection[src] && rowDirection[src][dest]);\r\n}\r\n\r\nconst isSameColumn = (src, dest) => {\r\n    return !!(columnDirection[src] && columnDirection[src][dest]);\r\n}\r\n\r\nconst isSameDiagonal = (src, dest) => {\r\n    return !!((diagonalDirectionTLBR[src] && diagonalDirectionTLBR[src][dest]) ||\r\n    (diagonalDirectionTRBL[src] && diagonalDirectionTRBL[src][dest]));\r\n}\r\n\r\nconst isPathClean = (srcToDestPath, squares) => {\r\n    return  srcToDestPath.reduce((acc, curr) => acc && !squares[curr], true); //need to fix this function, pieces go straight through each other\r\n   }\r\n\r\nmodule.exports = {\r\n    isSameRow,\r\n    isSameColumn,\r\n    isSameDiagonal,\r\n    isPathClean\r\n}","import React from 'react';\r\n\r\nimport '../index.css';\r\n\r\nexport default function Square(props) {\r\n\r\n    return (\r\n        <button className={\"square \" + props.shade}\r\n        onClick={props.onClick}\r\n        style={props.style}\r\n        key={props.keyVal}\r\n        >\r\n        </button>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport '../index.css';\r\nimport Square from './square.js';\r\n\r\nexport default class Board extends React.Component {\r\n\r\n    renderSquare(m, squareShade) {\r\n        return <Square \r\n        key={m}\r\n        keyVal={m}\r\n        style={this.props.squares[m] ? this.props.squares[m].style : null}\r\n        shade={squareShade}\r\n        onClick={() => this.props.onClick(m)}\r\n        />\r\n    }\r\n\r\n    render() {\r\n        const board = [];\r\n        for (let m=0; m<8; m++) {\r\n            const squareRows = [];\r\n            for (let n=0; n<8; n++) {\r\n                const squareShade = (isEven(m) && isEven(n)) || (!isEven(m) && !isEven(n)) ? \"light-square\" : \"dark-square\";\r\n                squareRows.push(this.renderSquare((m*8) + n, squareShade));\r\n            }\r\n            board.push(<div className=\"board-row\" key={m}>{squareRows}</div>)\r\n        }\r\n        return (\r\n            <div>\r\n                {board}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction isEven(num) {\r\n    return num % 2 === 0\r\n}","import React from 'react';\r\n\r\nimport '../index.css';\r\nimport Square from './square.js';\r\n\r\nexport default class CapturedPiecesBlock extends React.Component {\r\n\r\n  renderSquare(square, m) {\r\n    return <Square\r\n      key={m}\r\n      keyVal={m}\r\n      piece={square}\r\n      style={square.style}\r\n    />\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"board-row\">{this.props.whiteCapturedPieces.map((ws, index) =>\r\n          this.renderSquare(ws, index)\r\n        )}</div>\r\n        <div className=\"board-row\">{this.props.blackCapturedPieces.map((bs, index) =>\r\n          this.renderSquare(bs, index)\r\n        )}</div>\r\n      </div>\r\n    );\r\n  }\r\n}","export default class Piece {\r\n    constructor(player, iconUrl) {\r\n      this.player = player;\r\n      this.style = { backgroundImage: \"url('\" + iconUrl + \"')\" };\r\n    }\r\n  \r\n    getPlayer() {\r\n      return this.player;\r\n    }\r\n  }","import Piece from './piece.js';\r\nimport { isSameDiagonal, isPathClean } from '../directions'\r\n\r\nexport default class Bishop extends Piece {\r\n  constructor(player) {\r\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg\"));\r\n  }\r\n\r\n  isMovePossible(src, dest, squares) {\r\n    return isPathClean(this.getSrcToDestPath(src, dest), squares) && isSameDiagonal(src, dest);\r\n  }\r\n\r\n  getSrcToDestPath(src, dest) {\r\n    let path = [], pathStart, pathEnd, incrementBy;\r\n    if (src > dest) {\r\n      pathStart = dest;\r\n      pathEnd = src;\r\n    }\r\n    else {\r\n      pathStart = src;\r\n      pathEnd = dest;\r\n    }\r\n    if (Math.abs(src - dest) % 9 === 0) {\r\n      incrementBy = 9;\r\n      pathStart += 9;\r\n    }\r\n    else {\r\n      incrementBy = 7;\r\n      pathStart += 7;\r\n    }\r\n\r\n    for (let m = pathStart; m < pathEnd; m += incrementBy) {\r\n      path.push(m);\r\n    }\r\n    return path;\r\n  }\r\n}","import Piece from './piece.js';\r\nimport {isSameRow,isSameDiagonal} from '../directions';\r\n\r\nexport default class King extends Piece {\r\n    constructor(player) {\r\n        super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg\"));\r\n    }\r\n    isMovePossible(src, dest) {\r\n        return ((src - 9 === dest && isSameDiagonal(src, dest)) ||\r\n          src - 8 === dest ||\r\n          (src - 7 === dest && isSameDiagonal(src, dest)) ||\r\n          (src + 1 === dest && isSameRow(src, dest)) ||\r\n          (src + 9 === dest && isSameDiagonal(src, dest)) ||\r\n          src + 8 === dest ||\r\n          (src + 7 === dest && isSameDiagonal(src, dest)) ||\r\n          (src - 1 === dest && isSameRow(src, dest)));\r\n    }\r\n    getSrcToDestPath() {\r\n        return [];\r\n    }\r\n }   \r\n","import Piece from './piece.js';\r\nimport { isSameRow } from '../directions'\r\n\r\nexport default class Knight extends Piece {\r\n  constructor(player) {\r\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg\"));\r\n  }\r\n\r\n  isMovePossible(src, dest) {\r\n    return ((src - 17 === dest && !isSameRow(src, dest)) ||\r\n      (src - 10 === dest && !isSameRow(src, dest)) ||\r\n      (src + 6 === dest && !isSameRow(src, dest)) ||\r\n      (src + 15 === dest && !isSameRow(src, dest)) ||\r\n      (src - 15 === dest && !isSameRow(src, dest)) ||\r\n      (src - 6 === dest && !isSameRow(src, dest)) ||\r\n      (src + 10 === dest && !isSameRow(src, dest)) ||\r\n      (src + 17 === dest && !isSameRow(src, dest)));\r\n  }\r\n\r\n  getSrcToDestPath() {\r\n    return [];\r\n  }\r\n}","import Piece from './piece.js';\r\nimport { isSameDiagonal } from '../directions'\r\n\r\nexport default class Pawn extends Piece {\r\n  constructor(player) {\r\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg\"));\r\n    this.initialPositions = {\r\n      1: [48, 49, 50, 51, 52, 53, 54, 55],\r\n      2: [8, 9, 10, 11, 12, 13, 14, 15]\r\n    }\r\n  }\r\n\r\n  isMovePossible(src, dest, isDestEnemyOccupied) {\r\n\r\n    if (this.player === 1) {\r\n      if ((dest === src - 8 && !isDestEnemyOccupied) || (dest === src - 16 && !isDestEnemyOccupied && this.initialPositions[1].indexOf(src) !== -1)) {\r\n        return true;\r\n      }\r\n      else if (isDestEnemyOccupied && isSameDiagonal(src, dest) && (dest === src - 9 || dest === src - 7)) {\r\n        return true;\r\n      }\r\n    }\r\n    else if (this.player === 2) {\r\n      if ((dest === src + 8 && !isDestEnemyOccupied) || (dest === src + 16 && !isDestEnemyOccupied && this.initialPositions[2].indexOf(src) !== -1)) {\r\n        return true;\r\n      }\r\n      else if (isDestEnemyOccupied && isSameDiagonal(src, dest) && (dest === src + 9 || dest === src + 7)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getSrcToDestPath(src, dest) {\r\n    if (dest === src - 16) {\r\n      return [src - 8];\r\n    }\r\n    else if (dest === src + 16) {\r\n      return [src + 8];\r\n    }\r\n    return [];\r\n  }\r\n}  ","import Piece from './piece.js';\r\nimport { isSameRow, isSameColumn, isSameDiagonal, isPathClean } from '../directions';\r\n\r\n//queen code can be partially recycled for the bishop and rook\r\n\r\nexport default class Queen extends Piece {\r\n  constructor(player) {\r\n    super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg\"));\r\n  }\r\n\r\n  isMovePossible(src, dest, squares) {\r\n    return isPathClean(this.getSrcToDestPath(src, dest), squares) && (isSameDiagonal(src, dest) || isSameRow(src, dest) || isSameColumn(src, dest));\r\n  }\r\n\r\n  getSrcToDestPath(src, dest) {\r\n    let path = [], pathStart, pathEnd, incrementBy;\r\n    if (src > dest) {\r\n      pathStart = dest;\r\n      pathEnd = src;\r\n    }\r\n    else {\r\n      pathStart = src;\r\n      pathEnd = dest;\r\n    }\r\n    if (Math.abs(src - dest) % 8 === 0) {\r\n      incrementBy = 8;\r\n      pathStart += 8;\r\n    }\r\n    else if (Math.abs(src - dest) % 9 === 0) {\r\n      incrementBy = 9;\r\n      pathStart += 9;\r\n    }\r\n    else if (Math.abs(src - dest) % 7 === 0) {\r\n      incrementBy = 7;\r\n      pathStart += 7;\r\n    }\r\n    else {\r\n      incrementBy = 1;\r\n      pathStart += 1;\r\n    }\r\n\r\n    for (let m = pathStart; m < pathEnd; m += incrementBy) {\r\n      path.push(m);\r\n    }\r\n    return path;\r\n  }\r\n}\r\n","import Piece from './piece.js';\r\nimport { isSameRow, isSameColumn, isPathClean } from '../directions';\r\n\r\nexport default class Rook extends Piece {\r\n    constructor(player) {\r\n      super(player, (player === 1 ? \"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg\" : \"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg\"));\r\n    }\r\n  \r\n    isMovePossible(src, dest, squares) {\r\n      return isPathClean(this.getSrcToDestPath(src, dest), squares) && (isSameColumn(src, dest) || isSameRow(src, dest));\r\n    }\r\n\r\n    getSrcToDestPath(src, dest) {\r\n        let path = [], pathStart, pathEnd, incrementBy;\r\n        if (src > dest) {\r\n          pathStart = dest;\r\n          pathEnd = src;\r\n        }\r\n        else {\r\n          pathStart = src;\r\n          pathEnd = dest;\r\n        }\r\n        if (Math.abs(src - dest) % 8 === 0) {\r\n          incrementBy = 8;\r\n          pathStart += 8;\r\n        }\r\n        else {\r\n          incrementBy = 1;\r\n          pathStart += 1;\r\n        }\r\n    \r\n        for (let m = pathStart; m < pathEnd; m += incrementBy) {\r\n          path.push(m);\r\n        }\r\n        return path;\r\n      }\r\n} \r\n","import Bishop from '../pieces/bishop.js';\r\nimport King from '../pieces/king.js';\r\nimport Knight from '../pieces/knight.js';\r\nimport Pawn from '../pieces/pawn.js';\r\nimport Queen from '../pieces/queen.js';\r\nimport Rook from '../pieces/rook.js';\r\n\r\nexport default function initialiseChessBoard() {\r\n    const squares = Array(64).fill(null);\r\n\r\n    for (let m = 8; m < 16; m++) {\r\n        squares[m] = new Pawn(2);\r\n        squares[m + 40] = new Pawn(1);\r\n      }\r\n      squares[0] = new Rook(2);\r\n      squares[7] = new Rook(2);\r\n      squares[56] = new Rook(1);\r\n      squares[63] = new Rook(1);\r\n    \r\n      squares[1] = new Knight(2);\r\n      squares[6] = new Knight(2);\r\n      squares[57] = new Knight(1);\r\n      squares[62] = new Knight(1);\r\n    \r\n      squares[2] = new Bishop(2);\r\n      squares[5] = new Bishop(2);\r\n      squares[58] = new Bishop(1);\r\n      squares[61] = new Bishop(1);\r\n    \r\n      squares[3] = new Queen(2);\r\n      squares[4] = new King(2);\r\n    \r\n      squares[59] = new Queen(1);\r\n      squares[60] = new King(1);\r\n    \r\n      return squares;\r\n    }\r\n","import React from 'react';\r\n\r\nimport '../index.css';\r\nimport Board from './board.js';\r\nimport CapturedPiecesBlock from './captured-pieces-block.js';\r\nimport initialiseChessBoard from '../init/game-initialiser.js';\r\nimport King from '../pieces/king.js';\r\n\r\nexport default class Game extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      squares: initialiseChessBoard(),\r\n      whiteCapturedPieces: [],\r\n      blackCapturedPieces: [],\r\n      player: 1,\r\n      sourceSelection: -1,\r\n      status: '',\r\n      turn: 'white'\r\n    }\r\n  }\r\n\r\n  handleClick(m) {\r\n    const squares = [...this.state.squares];\r\n\r\n    if (this.state.sourceSelection === -1) {\r\n      if (!squares[m] || squares[m].player !== this.state.player) {\r\n        this.setState({ status: \"Please choose player \" + this.state.player + \" pieces.\" });\r\n        if (squares[m]) {\r\n          squares[m].style = { ...squares[m].style, backgroundColor: \"\" };\r\n        }\r\n      }\r\n      else {\r\n        squares[m].style = { ...squares[m].style, backgroundColor: \"lightblue\" }; \r\n        this.setState({\r\n          status: \"Choose destination for the selected piece\",\r\n          sourceSelection: m\r\n        })\r\n      }\r\n      return\r\n    }\r\n\r\n    squares[this.state.sourceSelection].style = { ...squares[this.state.sourceSelection].style, backgroundColor: \"\" };\r\n\r\n    if (squares[m] && squares[m].player === this.state.player) {\r\n      this.setState({\r\n        status: \"Wrong selection.\",\r\n        sourceSelection: -1,\r\n      });\r\n    }\r\n    else {\r\n\r\n      const whiteCapturedPieces = [];\r\n      const blackCapturedPieces = [];\r\n      const isDestEnemyOccupied = Boolean(squares[m]);\r\n      const isMovePossible = squares[this.state.sourceSelection].isMovePossible(this.state.sourceSelection, m, isDestEnemyOccupied);\r\n\r\n      if (isMovePossible) {\r\n        if (squares[m] !== null) {\r\n          if (squares[m].player === 1) {\r\n            whiteCapturedPieces.push(squares[m]);\r\n          }\r\n          else {\r\n            blackCapturedPieces.push(squares[m]);\r\n          }\r\n        }\r\n\r\n        squares[m] = squares[this.state.sourceSelection];\r\n        squares[this.state.sourceSelection] = null;\r\n\r\n    \r\n    const isCheck = this.isCheckForPlayer(squares, this.state.player);\r\n\r\n    if (isCheck) {\r\n      this.setState( oldState => ({\r\n        status: \"Wrong selection. You are in check!\",\r\n        sourceSelection: -1,\r\n      }))\r\n    } else {\r\n      let player = this.state.player === 1 ? 2 : 1;\r\n      let turn = this.state.turn === 'white' ? 'black' : 'white';\r\n\r\n      this.setState(oldState => ({\r\n        sourceSelection: -1,\r\n        squares,\r\n        whiteCapturedPieces: [...oldState.whiteCapturedPieces, ...whiteCapturedPieces],\r\n        blackCapturedPieces: [...oldState.blackCapturedPieces, ...blackCapturedPieces],\r\n        player,\r\n        status: '',\r\n        turn\r\n      }));\r\n    }\r\n  }\r\n  else {\r\n    this.setState({\r\n      status: \"Wrong selection. Choose valid piece and destination.\",\r\n      sourceSelection: -1,\r\n    });\r\n   }\r\n  }\r\n }\r\n\r\ngetKingPosition(squares, player) {\r\nreturn squares.reduce((acc, curr, idx) =>\r\n  acc || ((curr && (curr.getPlayer() === player)) && (curr instanceof King) && idx), null);\r\n}\r\n\r\nisCheckForPlayer(squares, player) {\r\nconst opponent = player === 1 ? 2 : 1;\r\nconst playersKingPosition = this.getKingPosition(squares, player);\r\nconst canPieceKillPlayersKing = (piece, m) => piece.isMovePossible(playersKingPosition, m, squares);\r\nreturn squares.reduce((acc, curr, idx) =>  acc || (curr && (curr.getPlayer() === opponent) && canPieceKillPlayersKing(curr, idx) && true), false);\r\n}\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"game\">\r\n          <div className=\"game-board\">\r\n            <Board\r\n              squares={this.state.squares}\r\n              onClick={(m) => this.handleClick(m)}\r\n            />\r\n          </div>\r\n          <div className=\"game-info\">\r\n            <h3>Turn</h3>\r\n            <div id=\"player-turn-box\" style={{ backgroundColor: this.state.turn }}>\r\n            </div>\r\n            <div className=\"game-status\">{this.state.status}</div>\r\n            <div className=\"captured-pieces-block\">\r\n              {<CapturedPiecesBlock\r\n                whiteCapturedPieces={this.state.whiteCapturedPieces}\r\n                blackCapturedPieces={this.state.blackCapturedPieces}\r\n              />\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}        \r\n\r\n \r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport Game from './game-components/game.js'\n\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);"],"sourceRoot":""}